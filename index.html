<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ouro L√≠quido: Uma Viagem pela Hist√≥ria Milenar do Azeite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useCallback } = React;

        // Story pages based on the provided document
        const storyPages = [
            {
                image: './image1.jpg',
                text: 'No cora√ß√£o quente do Alentejo, entre fileiras modernas e ordenadas de oliveiras, trabalhava Irina. Os seus bra√ßos √°geis apanhavam a azeitona preta e roxa, o "ouro l√≠quido" da sua terra.'
            },
            {
                image: './image2.jpg',
                text: 'Era a √©poca da colheita, o cl√≠max de um ciclo que ela conhecia desde pequena. "√â apenas √≥leo," pensava, enquanto apanhava uma pedra invulgar, lisa e escura, que parecia um n√≥ de madeira petrificado.'
            },
            {
                image: './image3.jpg',
                text: 'Ao tocar na pedra, um arrepio percorreu-lhe a espinha, e o ar ficou quente e denso. O cheiro a terra e azeitona intensificou-se, transformando-se num aroma a mar e a lendas antigas. O campo moderno desvaneceu-se. De repente, Irina estava a observar uma oliveira retorcida e gigantesca, com ra√≠zes que pareciam abra√ßar o pr√≥prio tempo. Esta n√£o era uma √°rvore qualquer; era a testemunha de mil√©nios.'
            },
            {
                image: './image4.jpg',
                text: 'A √°rvore falou (mas n√£o com palavras) da sua origem long√≠nqua na √Åsia Menor, h√° eras. Irina viu folhas fossilizadas no ch√£o, e depois, vislumbrou a Idade do Bronze: m√£os antigas esmagavam os frutos numa pedra r√∫stica. "Antes de existir humanidade, n√≥s exist√≠amos," sussurrou a mem√≥ria da oliveira. "E a primeira gota de azeite foi o in√≠cio de uma alian√ßa sagrada."'
            },
            {
                image: './image5.jpg',
                text: 'A vis√£o mudou. Ela estava agora na Gr√©cia, assistindo √† disputa entre a deusa Atena e o deus Poseid√£o. Poseid√£o ofereceu um cavalo forte, mas Atena plantou a primeira oliveira. Os cidad√£os aclamaram a d√°diva de Atena: √≥leo para iluminar, curar e alimentar. "Fui a d√°diva mais valiosa," vibrou a √°rvore, "um s√≠mbolo de paz e abund√¢ncia."'
            },
            {
                image: './image6.jpg',
                text: 'O tempo avan√ßou. Irina viu grandes barcos fen√≠cios com velas quadradas a sulcar o Mediterr√¢neo. Os navegadores transportavam √¢nforas cheias. O azeite n√£o era apenas alimento; era riqueza, moeda de troca. Ela viu Hir√£o de Tiro a aceitar o azeite de um mercador, em troca de madeira para um Templo. O azeite unia reinos.'
            },
            {
                image: './image7.jpg',
                text: 'No cen√°rio seguinte, Roma Antiga. Ela observou um thermae (banho romano), onde o azeite era usado para a higiene e cosm√©tica. Depois, a escurid√£o da noite era cortada pelo brilho suave de uma lamparina a √≥leo. "Eu sou o sangue vital do quotidiano," explicou a mem√≥ria. "O que ilumina, cura, perfuma e protege."'
            },
            {
                image: './image8.jpg',
                text: 'A vis√£o ficou mais intensa, tocada por um significado mais profundo. Ela viu o grande Dil√∫vio a acalmar, e uma pomba a regressar √† Arca de No√©, trazendo um tenro ramo de oliveira. Paz. Reconcilia√ß√£o. A ira divina tinha cessado. E, depois, o Jardim de Gets√™mani, o "Lagar de Azeite," onde o fruto era esmagado para libertar o precioso √≥leo.'
            },
            {
                image: './image9.jpg',
                text: 'O cen√°rio mudou para o seu pa√≠s. Portugal medieval. Ela viu azeite, orgulhosamente portugu√™s, a ser embarcado em naus das Descobertas. Multas no C√≥digo Visig√≥tico protegiam a oliveira. Era um produto de valor estrat√©gico, um commodities essencial do imp√©rio. O azeite, agora, ligava continentes.'
            },
            {
                image: './image10.jpg',
                text: 'Com um suspiro, o ar quente do Alentejo voltou. Irina estava de novo no olival moderno, a segurar o n√≥ de madeira petrificado. Ela olhou para o moderno lagar ao longe, um edif√≠cio de metal e tecnologia. Mas agora, n√£o via apenas m√°quinas. Via a ess√™ncia de todos aqueles mil√©nios. O lagar moderno √© a continua√ß√£o do lagar de Gets√™mani e da pedra primitiva.'
            },
            {
                image: './image11.jpg',
                text: 'Irina juntou-se √† sua fam√≠lia e colocou as suas azeitonas na moega. Enquanto as prensas hidr√°ulicas e as centrifugadoras libertavam o √≥leo verde-esmeralda, ela j√° n√£o via apenas um alimento. Via a D√°diva de Atena, a moeda dos Fen√≠cios, a luz dos Romanos, o s√≠mbolo de Paz e o legado de Portugal. Em cada gota de "ouro l√≠quido" do Alentejo, corria toda a Hist√≥ria.'
            }
        ];

        const modules = [
            {
                id: 'modulo1',
                title: 'M√≥dulo 1: O Ber√ßo Milenar da Oliveira',
                icon: 'üåç',
                color: 'from-amber-600 to-yellow-700',
                content: {
                    intro: 'A hist√≥ria de um bom azeite come√ßa na sua fonte: a oliveira. Uma √°rvore que remonta √† Era Terci√°ria, anterior ao aparecimento do homem.',
                    sections: [
                        {
                            title: 'Origens Ancestrais',
                            text: 'A oliveira, na sua forma primitiva, remonta √† Era Terci√°ria, com origem na √Åsia Menor, S√≠ria e Palestina. Folhas fossilizadas datadas do Paleol√≠tico foram encontradas por toda a bacia do Mediterr√¢neo. H√° mais de 6 mil anos, os povos da Mesopot√¢mia j√° utilizavam o azeite.'
                        },
                        {
                            title: 'Expans√£o pelo Mediterr√¢neo',
                            text: 'Foram os fen√≠cios que, nas suas rotas comerciais, transportaram a cultura da oliveira, semeando-a nas costas de todo o Mediterr√¢neo. O azeite tornou-se t√£o valioso que funcionava como moeda de troca.'
                        }
                    ],
                    activity: {
                        type: 'timeline',
                        question: 'Combine os marcos hist√≥ricos com os seus per√≠odos ou localiza√ß√µes:',
                        options: [
                            { id: 1, text: 'Origem primitiva da oliveira', answer: 'B' },
                            { id: 2, text: 'Primeiros vest√≠gios de produ√ß√£o (S√≠ria/Palestina)', answer: 'C' },
                            { id: 3, text: 'Uso do azeite como protetor (Mesopot√¢mia)', answer: 'A' }
                        ],
                        choices: [
                            { id: 'A', text: 'H√° mais de 6 mil anos' },
                            { id: 'B', text: 'Era Terci√°ria' },
                            { id: 'C', text: 'Idade do Bronze' }
                        ]
                    }
                }
            },
            {
                id: 'modulo2',
                title: 'M√≥dulo 2: As Ra√≠zes Antigas - Luz, Sa√∫de e Com√©rcio',
                icon: 'üí°',
                color: 'from-orange-600 to-amber-700',
                content: {
                    intro: 'Na antiguidade, o azeite era muito mais que alimento. Era a fonte de luz da civiliza√ß√£o, a base da sa√∫de e o pilar da economia.',
                    sections: [
                        {
                            title: 'Tr√™s Pilares Vitais',
                            items: [
                                { emoji: 'üí°', title: 'LUZ', text: 'Principal combust√≠vel para l√¢mpadas de argila, iluminando casas, templos e ruas' },
                                { emoji: 'ü©∫', title: 'SA√öDE', text: 'Base da limpeza (com estr√≠gil) e medicina, usado para tratar feridas e proteger a pele' },
                                { emoji: 'üí∞', title: 'COM√âRCIO', text: '"Ouro l√≠quido" transportado em √¢nforas, base da riqueza mediterr√¢nea' }
                            ]
                        },
                        {
                            title: 'M√∫ltiplos Usos',
                            text: 'Para gregos e romanos: culin√°ria, medica√ß√£o, unguento, perfume, combust√≠vel, lubrificante de alfaias e impermeabilizante de tecidos.'
                        }
                    ],
                    activity: {
                        type: 'archaeology',
                        question: 'O Arque√≥logo Inesperado',
                        description: 'Estes dois objetos foram essenciais em Roma, mas n√£o funcionavam sem um "combust√≠vel" que tamb√©m comiam. Que combust√≠vel √© esse e para que servia cada objeto?',
                        objects: [
                            { id: 'lucerna', name: 'L√¢mpada a √≥leo romana (Lucerna)', use: 'ilumina√ß√£o' },
                            { id: 'estrigil', name: 'Estr√≠gil (raspador de metal)', use: 'higiene' }
                        ],
                        answer: 'azeite'
                    }
                }
            },
            {
                id: 'modulo3',
                title: 'M√≥dulo 3: O Presente dos Deuses',
                icon: 'üëë',
                color: 'from-purple-600 to-indigo-700',
                content: {
                    intro: 'Para as civiliza√ß√µes antigas, uma √°rvore t√£o vital s√≥ poderia ter origem divina. Lendas e mitos refor√ßam o seu estatuto sagrado.',
                    sections: [
                        {
                            title: 'Mitologia Grega',
                            text: 'Na disputa pela cidade de Atenas, Poseid√£o ofereceu um cavalo forte, mas Atena presenteou os cidad√£os com uma oliveira capaz de produzir √≥leo para iluminar, curar e alimentar. A oliveira foi considerada a d√°diva mais valiosa.'
                        },
                        {
                            title: 'Mitologia Romana',
                            text: 'R√≥mulo e Remo, os m√≠ticos fundadores de Roma, teriam visto a luz do dia pela primeira vez debaixo dos galhos da oliveira, associando a √°rvore √† g√©nese do imp√©rio.'
                        },
                        {
                            title: 'Cosmologia Eg√≠pcia',
                            text: 'A d√°diva da olivicultura √© atribu√≠da √† deusa √çsis, que a ofereceu √† humanidade como s√≠mbolo de paz e abund√¢ncia.'
                        }
                    ],
                    activity: {
                        type: 'quote',
                        question: 'Complete a cita√ß√£o de Virg√≠lio na Eneida:',
                        text: 'E com um ramo de __________ o homem se purifica totalmente.',
                        answer: 'oliveira'
                    }
                }
            },
            {
                id: 'modulo4',
                title: 'M√≥dulo 4: S√≠mbolo Sagrado nas Religi√µes',
                icon: '‚ù§Ô∏è',
                color: 'from-blue-600 to-cyan-700',
                content: {
                    intro: 'O azeite assume profundo significado espiritual, tornando-se s√≠mbolo sagrado nas grandes religi√µes monote√≠stas.',
                    sections: [
                        {
                            title: 'Juda√≠smo - A Presen√ßa Divina',
                            text: 'O azeite simbolizava a presen√ßa de Deus entre os homens. Era usado em oferendas (enquanto o fermento simbolizava o pecado), na consagra√ß√£o de sacerdotes e para friccionar o corpo em ocasi√µes festivas. A sua aus√™ncia denunciava tristeza.'
                        },
                        {
                            title: 'Cristianismo - Un√ß√£o e Sacrif√≠cio',
                            items: [
                                { emoji: 'üïäÔ∏è', text: 'O ramo de oliveira trazido pela pomba a No√©: s√≠mbolo universal de paz e reconcilia√ß√£o' },
                                { emoji: '‚õ™', text: 'Gets√™mani ("Lagar de Azeite"): onde Jesus foi "esmagado" pelo sacrif√≠cio, como azeitonas libertam √≥leo' },
                                { emoji: '‚ú®', text: 'Santos √ìleos: consagrados na Quinta-feira Santa para batismo, crisma e un√ß√£o dos enfermos' }
                            ]
                        },
                        {
                            title: 'A Un√ß√£o Real',
                            text: 'Messias (hebraico) e Cristo (grego) significam literally "O Ungido". A un√ß√£o com azeite consagrava reis e sacerdotes, mostrando que sua autoridade vinha de Deus.'
                        }
                    ],
                    activity: {
                        type: 'symbols',
                        question: 'O Fio Condutor',
                        description: 'H√° um elemento vegetal comum que une estas hist√≥rias. Qual √©, e o que representa em cada cen√°rio?',
                        scenarios: [
                            { id: 1, text: 'Pomba regressa √† Arca de No√©', symbol: 'Paz' },
                            { id: 2, text: 'Atena planta uma √°rvore em Atenas', symbol: 'Sabedoria' },
                            { id: 3, text: 'Coroa√ß√£o de um rei medieval', symbol: 'Poder Divino' }
                        ],
                        answer: 'oliveira'
                    }
                }
            },
            {
                id: 'modulo5',
                title: 'M√≥dulo 5: Da Cultura √† Mesa',
                icon: 'üìñ',
                color: 'from-green-600 to-emerald-700',
                content: {
                    intro: 'O azeite tornou-se o pilar da Dieta Mediterr√¢nica, parte da "Tr√≠ade" com trigo e vinho, e evoluiu at√© √† perfei√ß√£o do Virgem Extra.',
                    sections: [
                        {
                            title: 'O Lagar Tradicional',
                            text: 'M√≥s de pedra esmagavam as azeitonas, transformando-as em pasta. Esta era espalhada em capachos de fibra e prensada para extrair o l√≠quido. Por decanta√ß√£o, o azeite subia ao topo.'
                        },
                        {
                            title: 'Problemas do M√©todo Antigo',
                            items: [
                                { emoji: 'üçÇ', text: 'Fermenta√ß√£o: Capachos dif√≠ceis de limpar causavam sabor ran√ßoso' },
                                { emoji: 'üå¨Ô∏è', text: 'Oxida√ß√£o: Exposi√ß√£o ao ar roubava aromas frutados e frescura' }
                            ]
                        },
                        {
                            title: 'Azeite Virgem Extra',
                            text: 'O auge da qualidade moderna. Deve ter acidez inferior a 0,8% e zero defeitos na prova sensorial. Tem de apresentar frutado (fresco), podendo ter amargo e picante - sinais de qualidade e antioxidantes.'
                        },
                        {
                            title: 'O Legado Portugu√™s',
                            text: 'Portugal consolidou-se como refer√™ncia mundial. O Alentejo √© o cora√ß√£o da produ√ß√£o nacional, com azeites de qualidade premiada. Um dos primeiros produtos exportados na √âpoca dos Descobrimentos.'
                        }
                    ],
                    activity: {
                        type: 'problem',
                        question: 'O Bom, o Mau e o Azeite',
                        scenario: 'Estamos em 1500 d.C. num lagar tradicional. O nosso azeite sabe bem quando feito, mas passados dois meses tem sabor a "velho" e "h√∫mido". O que est√° a estragar o sabor?',
                        options: [
                            { id: 'A', text: 'A temperatura da prensagem', correct: false },
                            { id: 'B', text: 'Fermenta√ß√£o nos capachos e oxida√ß√£o pelo ar', correct: true },
                            { id: 'C', text: 'O tipo de azeitonas usado', correct: false },
                            { id: 'D', text: 'A √°gua utilizada no processo', correct: false }
                        ]
                    }
                }
            }
        ];

        const finalQuiz = [
            {
                id: 'q1',
                question: 'Em qual regi√£o a oliveira, na sua forma primitiva, tem origem na Era Terci√°ria?',
                type: 'mcq',
                options: [
                    { id: 'A', text: 'Regi√£o do C√°ucaso' },
                    { id: 'B', text: '√Åsia Menor, S√≠ria e Palestina' },
                    { id: 'C', text: 'Bacia do Mediterr√¢neo Ocidental' },
                    { id: 'D', text: 'Pen√≠nsula Ib√©rica' }
                ],
                correct: 'B',
                feedback: {
                    correct: 'Correto! A origem da oliveira primitiva remonta √† Era Terci√°ria na √Åsia Menor, S√≠ria e Palestina.',
                    incorrect: 'Embora vest√≠gios tenham sido encontrados por toda a bacia do Mediterr√¢neo, a origem primitiva situa-se na √Åsia Menor, S√≠ria e Palestina.'
                }
            },
            {
                id: 'q2',
                question: 'A acidez do azeite era percebida sensorialmente pelos romanos como indicador de qualidade?',
                type: 'truefalse',
                options: [
                    { id: 'V', text: 'Verdadeiro' },
                    { id: 'F', text: 'Falso' }
                ],
                correct: 'F',
                feedback: {
                    correct: 'Correto! A acidez do azeite s√≥ pode ser medida em laborat√≥rio, n√£o pode ser percebida no paladar.',
                    incorrect: 'Falso. A acidez (teor de √°cidos graxos livres) n√£o pode ser percebida sensorialmente. S√≥ √© medida em laborat√≥rio.'
                }
            },
            {
                id: 'q3',
                question: 'Complete: No√© soltou uma pomba que retornou √† arca trazendo um ramo de ___, s√≠mbolo de ___.',
                type: 'fill',
                answer: 'oliveira',
                answer2: 'paz',
                feedback: 'Correto! A pomba trouxe um ramo de oliveira, s√≠mbolo universal de paz e reconcilia√ß√£o.'
            },
            {
                id: 'q4',
                question: 'Qual destes N√ÉO era um uso conhecido do azeite por gregos e romanos?',
                type: 'mcq',
                options: [
                    { id: 'A', text: 'Combust√≠vel para ilumina√ß√£o' },
                    { id: 'B', text: 'Unguento ou b√°lsamo' },
                    { id: 'C', text: 'Lubrificante de alfaias' },
                    { id: 'D', text: 'Agente de limpeza dom√©stica para metais' }
                ],
                correct: 'D',
                feedback: {
                    correct: 'Correto! N√£o h√° men√ß√£o ao uso como agente de limpeza para metais. Os usos eram: culin√°ria, medicina, unguento, perfume, ilumina√ß√£o, lubrificante e impermeabilizante.',
                    incorrect: 'As fontes mencionam claramente o azeite na culin√°ria, medicina, como unguento, perfume, combust√≠vel, lubrificante e impermeabilizante. N√£o h√° men√ß√£o a limpeza de metais.'
                }
            }
        ];
        
        // Image component with placeholder
        const ImageWithPlaceholder = ({ src, alt }) => {
            const [error, setError] = useState(false);

            if (error) {
                return (
                    <div className='text-gray-500 text-center p-8 flex flex-col items-center justify-center h-full'>
                        <p className='text-3xl mb-2'>üì∑</p>
                        <p className='text-lg mb-2'>Imagem n√£o dispon√≠vel</p>
                        <p className='text-sm'>Ilustra√ß√£o da hist√≥ria</p>
                    </div>
                );
            }

            return <img src={src} alt={alt} className="w-full h-full object-cover" onError={() => setError(true)} />;
        };

        // Intro component
        const Intro = ({ navigateTo }) => {
            const [showVideo, setShowVideo] = useState(false);
            const [showAudio, setShowAudio] = useState(false);

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 p-8 flex items-center justify-center">
                    <div className="max-w-4xl mx-auto text-center">
                        <h1 className="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-yellow-700 mb-4">
                            Ouro L√≠quido
                        </h1>
                        <p className="text-3xl text-gray-700 mb-2">Uma Viagem pela Hist√≥ria Milenar do Azeite</p>
                        <p className="text-xl text-gray-600 mb-12">Mais do que um Alimento, um S√≠mbolo</p>

                        <div className="bg-white rounded-2xl shadow-2xl p-8 mb-8 text-left">
                            <p className="text-lg text-gray-700 leading-relaxed mb-6">
                                O azeite √© um pilar incontorn√°vel da gastronomia mediterr√¢nea, mas a sua influ√™ncia transcende a cozinha, enraizando-se profundamente na heran√ßa cultural da humanidade. Desde a antiguidade, as suas gotas douradas t√™m temperado n√£o s√≥ pratos, mas tamb√©m rituais, mitos e a pr√≥pria hist√≥ria.
                            </p>
                            <p className="text-lg text-gray-700 leading-relaxed">
                                Este documento convida-o a uma viagem no tempo, explorando as origens ancestrais da oliveira, o seu papel central nas grandes civiliza√ß√µes da Antiguidade e o seu profundo simbolismo sagrado nas principais religi√µes do mundo.
                            </p>
                        </div>

                        {/* Multimedia buttons */}
                        <div className="flex flex-wrap justify-center gap-4 mb-8">
                            <button
                                onClick={() => setShowVideo(!showVideo)}
                                className="px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white text-lg font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition flex items-center gap-2"
                            >
                                üé¨ {showVideo ? 'Fechar V√≠deo' : 'Ver V√≠deo'}
                            </button>
                            <button
                                onClick={() => setShowAudio(!showAudio)}
                                className="px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white text-lg font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition flex items-center gap-2"
                            >
                                üéß {showAudio ? 'Fechar Podcast' : 'Ouvir Podcast'}
                            </button>
                        </div>

                        {/* Video player */}
                        {showVideo && (
                            <div className="bg-white rounded-2xl shadow-2xl p-6 mb-8">
                                <h3 className="text-2xl font-bold text-gray-800 mb-4">A Hist√≥ria do Azeite</h3>
                                <video 
                                    controls 
                                    className="w-full rounded-lg shadow-lg"
                                    onError={(e) => {
                                        e.target.parentElement.innerHTML = `
                                            <div class="bg-gray-100 p-8 rounded-lg text-center">
                                                <p class="text-gray-600 text-lg">üìπ V√≠deo n√£o dispon√≠vel</p>
                                                <p class="text-gray-500 text-sm mt-2">Certifique-se de que o arquivo ./A_Hist√≥ria_do_Azeite.mp4 est√° no mesmo diret√≥rio</p>
                                            </div>
                                        `;
                                    }}
                                >
                                    <source src="./A_Hist√≥ria_do_Azeite.mp4" type="video/mp4" />
                                    Seu navegador n√£o suporta v√≠deo HTML5.
                                </video>
                            </div>
                        )}

                        {/* Audio player */}
                        {showAudio && (
                            <div className="bg-white rounded-2xl shadow-2xl p-6 mb-8">
                                <h3 className="text-2xl font-bold text-gray-800 mb-4">Azeite: O Fio Dourado - Podcast</h3>
                                <div className="bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-lg">
                                    <audio 
                                        controls 
                                        className="w-full"
                                        onError={(e) => {
                                            e.target.parentElement.innerHTML = `
                                                <div class="bg-gray-100 p-6 rounded-lg text-center">
                                                    <p class="text-gray-600 text-lg">üéß Podcast n√£o dispon√≠vel</p>
                                                    <p class="text-gray-500 text-sm mt-2">Certifique-se de que o arquivo ./Azeite_O_Fio_Dourado.mp3 est√° no mesmo diret√≥rio</p>
                                                </div>
                                            `;
                                        }}
                                    >
                                        <source src="./Azeite_O_Fio_Dourado.mp3" type="audio/mpeg" />
                                        Seu navegador n√£o suporta √°udio HTML5.
                                    </audio>
                                    <p className="text-gray-600 text-sm mt-4 text-center">
                                        üéôÔ∏è Ou√ßa a fascinante hist√≥ria do azeite em formato de podcast
                                    </p>
                                </div>
                            </div>
                        )}

                        <button
                            onClick={() => navigateTo('story')}
                            className="px-8 py-4 bg-gradient-to-r from-amber-600 to-yellow-700 text-white text-xl font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition"
                        >
                            Come√ßar a Viagem
                        </button>
                    </div>
                </div>
            );
        };
        
        // Story component with improved layout
        const Story = ({ navigateTo }) => {
            const [currentPageIndex, setCurrentPageIndex] = useState(0);
            const page = storyPages[currentPageIndex];
            const isLastPage = currentPageIndex === storyPages.length - 1;
            const isCoverPage = currentPageIndex === 0;

            const previousPage = () => {
                if (currentPageIndex > 0) {
                    setCurrentPageIndex(prev => prev - 1);
                }
            };

            const nextPage = () => {
                if (!isLastPage) {
                    setCurrentPageIndex(prev => prev + 1);
                }
            };

            // Render cover page (page 1)
            if (isCoverPage) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-amber-600 via-yellow-600 to-orange-700 p-4 sm:p-8 flex items-center justify-center">
                        <div className="max-w-5xl w-full mx-auto">
                            <div className="bg-white/10 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden border-4 border-white/30 p-8 sm:p-12">
                                <div className="text-center mb-8">
                                    <div className="text-8xl mb-6">ü´í</div>
                                    <h1 className="text-5xl sm:text-6xl font-bold text-white mb-4 drop-shadow-lg">
                                        O Ouro L√≠quido da Oliveira
                                    </h1>
                                    <div className="h-1 w-32 bg-white/50 mx-auto mb-6"></div>
                                    <p className="text-2xl text-white/90 italic mb-8">
                                        Uma viagem no tempo atrav√©s dos olhos de Irina
                                    </p>
                                </div>
                                
                                <div className="bg-white/20 backdrop-blur-md rounded-2xl p-6 mb-8">
                                    <p className="text-lg text-white leading-relaxed text-center">
                                        {page.text}
                                    </p>
                                </div>
                                
                                <div className="flex justify-center">
                                    <button 
                                        onClick={nextPage} 
                                        className="px-8 py-4 bg-white text-amber-700 text-xl font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition flex items-center gap-3"
                                    >
                                        Come√ßar a Viagem ‚Üí
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // Render story pages (pages 2-11) with side-by-side layout
            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-yellow-50 p-4 sm:p-8">
                    <div className="max-w-6xl w-full mx-auto">
                        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
                            <div className="bg-gradient-to-r from-amber-600 to-yellow-700 p-4 sm:p-6 text-white">
                                <h2 className="text-2xl sm:text-3xl font-bold">O Ouro L√≠quido da Oliveira</h2>
                                <p className="text-amber-100 mt-1 text-sm sm:text-base">Uma viagem no tempo atrav√©s dos olhos de Irina</p>
                            </div>
                            
                            <div className="p-4 sm:p-8">
                                {/* Vertical side-by-side layout */}
                                <div className="grid md:grid-cols-2 gap-6 mb-8">
                                    {/* Image section */}
                                    <div className="bg-gray-200 rounded-xl overflow-hidden h-64 md:h-96 flex items-center justify-center shadow-lg">
                                        <ImageWithPlaceholder src={page.image} alt={`P√°gina ${currentPageIndex + 1}`} />
                                    </div>
                                    
                                    {/* Text section */}
                                    <div className="flex items-center">
                                        <div className="bg-gradient-to-br from-amber-50 to-yellow-50 p-6 rounded-xl border-2 border-amber-200 shadow-md">
                                            <div className="text-amber-600 font-bold text-sm mb-3">
                                                Cap√≠tulo {currentPageIndex}
                                            </div>
                                            <p className="text-base sm:text-lg leading-relaxed text-gray-800">
                                                {page.text}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                {/* Navigation */}
                                <div className="flex justify-between items-center flex-wrap gap-4 pt-4 border-t-2 border-gray-200">
                                    <button 
                                        onClick={previousPage} 
                                        disabled={currentPageIndex === 0}
                                        className="flex items-center gap-2 px-6 py-3 bg-amber-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-amber-700 transition shadow-md"
                                    >
                                        ‚Üê Anterior
                                    </button>
                                    
                                    <span className="text-gray-600 font-medium">
                                        P√°gina {currentPageIndex + 1} de {storyPages.length}
                                    </span>
                                    
                                    {!isLastPage ? (
                                        <button 
                                            onClick={nextPage} 
                                            className="flex items-center gap-2 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition shadow-md"
                                        >
                                            Pr√≥xima ‚Üí
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={() => navigateTo('modules')} 
                                            className="flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition shadow-md"
                                        >
                                            Come√ßar M√≥dulos ‚Üí
                                        </button>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Module List component
        const ModuleList = ({ navigateTo, moduleProgress }) => {
            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 p-4 sm:p-8">
                    <div className="max-w-6xl mx-auto">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-bold text-gray-800 mb-4">M√≥dulos de Aprendizagem</h2>
                            <p className="text-xl text-gray-600">Escolha um m√≥dulo para come√ßar a explorar</p>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                            {modules.map((module, idx) => (
                                <div 
                                    key={module.id} 
                                    onClick={() => navigateTo('module', idx)} 
                                    className="bg-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden flex flex-col"
                                >
                                    <div className={`bg-gradient-to-r ${module.color} p-6 text-white`}>
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center gap-3">
                                                <span className="text-3xl">{module.icon}</span>
                                                <span className="text-2xl font-bold">M√≥dulo {idx + 1}</span>
                                            </div>
                                            {moduleProgress[module.id] && <span className="text-3xl font-bold text-white">‚úì</span>}
                                        </div>
                                    </div>
                                    <div className="p-6 flex-grow">
                                        <h3 className="text-xl font-bold text-gray-800 mb-3">{module.title.split(': ')[1]}</h3>
                                        <p className="text-gray-600">{module.content.intro}</p>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="text-center">
                            <button 
                                onClick={() => navigateTo('quiz')} 
                                className="px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-700 text-white text-xl font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition inline-flex items-center gap-3"
                            >
                                üèÜ Question√°rio Final
                            </button>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Module Detail component
        const ModuleDetail = ({ navigateTo, module, onComplete }) => {
            const [activityAnswers, setActivityAnswers] = useState({});
            const [textAnswer, setTextAnswer] = useState('');
            const [showFeedback, setShowFeedback] = useState(false);

            const activity = module.content.activity;

            const handleTimelineAnswer = (optionId, value) => {
                const newAnswers = { ...activityAnswers, [optionId]: value };
                setActivityAnswers(newAnswers);

                if (activity.type === 'timeline' && Object.keys(newAnswers).length === activity.options.length) {
                    setShowFeedback(true);
                    onComplete(module.id);
                }
            };

            const handleTextAnswer = () => {
                if (!textAnswer) return;
                setShowFeedback(true);
                onComplete(module.id);
            };

            const handleProblemAnswer = (optionId) => {
                setTextAnswer(optionId);
                setShowFeedback(true);
                onComplete(module.id);
            };

            const checkActivityAnswer = () => {
                if (activity.type === 'timeline') {
                    return activity.options.every(opt => activityAnswers[opt.id] === opt.answer);
                }
                if (activity.type === 'archaeology' || activity.type === 'quote' || activity.type === 'symbols') {
                    return textAnswer.toLowerCase().includes(activity.answer.toLowerCase());
                }
                if (activity.type === 'problem') {
                    const selectedOption = activity.options.find(opt => opt.id === textAnswer);
                    return selectedOption?.correct === true;
                }
                return false;
            };
            
            const isCorrect = checkActivityAnswer();

            const renderActivity = () => {
                switch (activity.type) {
                    case 'timeline':
                        return (
                            <>
                                <p className="text-gray-700 mb-6 font-medium">{activity.question}</p>
                                {activity.options.map(option => (
                                    <div key={option.id} className="bg-white p-4 rounded-lg shadow mb-4">
                                        <p className="font-medium mb-3">{option.id}. {option.text}</p>
                                        <select
                                            id={`timeline-${option.id}`}
                                            className="w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                            disabled={showFeedback}
                                            onChange={(e) => handleTimelineAnswer(option.id, e.target.value)}
                                            value={activityAnswers[option.id] || ''}
                                        >
                                            <option value="">Selecione...</option>
                                            {activity.choices.map(choice => <option key={choice.id} value={choice.id}>{choice.id}. {choice.text}</option>)}
                                        </select>
                                    </div>
                                ))}
                            </>
                        );
                    case 'archaeology':
                    case 'quote':
                    case 'symbols':
                        return (
                            <>
                                {activity.type === 'archaeology' && (
                                    <>
                                        <p className="text-xl font-semibold mb-3">{activity.question} üè∫</p>
                                        <p className="text-gray-700 mb-6">{activity.description}</p>
                                        <div className="space-y-3 mb-6">
                                            {activity.objects.map(obj => (
                                                <div key={obj.id} className="bg-white p-4 rounded-lg shadow">
                                                    <p className="font-medium">üìú {obj.name}</p>
                                                    <p className="text-sm text-gray-600 mt-1">Uso: {obj.use}</p>
                                                </div>
                                            ))}
                                        </div>
                                    </>
                                )}
                                {activity.type === 'quote' && (
                                <>
                                        <p className="text-gray-700 mb-4 font-medium">{activity.question}</p>
                                        <p className="text-lg italic bg-white p-4 rounded-lg mb-4 border-l-4 border-purple-500">"{activity.text}"</p>
                                </>
                                )}
                                {activity.type === 'symbols' && (
                                    <>
                                        <p className="text-xl font-semibold mb-3">{activity.question} üïäÔ∏èüëë</p>
                                        <p className="text-gray-700 mb-6">{activity.description}</p>
                                        <div className="space-y-3 mb-6">
                                            {activity.scenarios.map(scenario => (
                                                <div key={scenario.id} className="bg-white p-4 rounded-lg shadow">
                                                    <p className="font-medium">‚Ä¢ {scenario.text}</p>
                                                    <p className="text-sm text-blue-600 mt-1">‚Üí Representa: {scenario.symbol}</p>
                                                </div>
                                            ))}
                                        </div>
                                    </>
                                )}
                                <input
                                    type="text"
                                    placeholder={activity.type === 'archaeology' ? "Que combust√≠vel √© esse?" : "Sua resposta..."}
                                    className="w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                    disabled={showFeedback}
                                    value={textAnswer}
                                    onChange={(e) => setTextAnswer(e.target.value)}
                                    onBlur={handleTextAnswer}
                                />
                            </>
                        );
                    case 'problem':
                        return (
                            <>
                                <p className="text-xl font-semibold mb-3">{activity.question} üïµÔ∏è‚Äç‚ôÇÔ∏è</p>
                                <div className="bg-amber-50 p-4 rounded-lg mb-6 border-l-4 border-amber-500">
                                    <p className="text-gray-700 italic">{activity.scenario}</p>
                                </div>
                                <div className="space-y-3">
                                    {activity.options.map(option => (
                                        <button
                                            key={option.id}
                                            onClick={() => handleProblemAnswer(option.id)}
                                            disabled={showFeedback}
                                            className={`w-full text-left p-4 bg-white rounded-lg border-2 transition disabled:opacity-70 ${
                                                showFeedback && option.correct ? 'border-green-500 bg-green-50' :
                                                showFeedback && !option.correct && textAnswer === option.id ? 'border-red-500 bg-red-50' :
                                                'border-gray-300 hover:border-blue-500 hover:bg-blue-50'
                                            }`}
                                        >
                                            <span className="font-bold">{option.id}.</span> {option.text}
                                        </button>
                                    ))}
                                </div>
                            </>
                        );
                    default:
                        return null;
                }
            };
            
            const renderFeedback = () => {
                if (!showFeedback) return null;

                const feedbackClass = isCorrect ? 'bg-green-100 border-green-500' : 'bg-orange-100 border-orange-500';
                const feedbackIcon = isCorrect ? '‚úì' : '‚ö†';
                const feedbackTitle = isCorrect ? 'Muito bem! Resposta correta!' : 'Quase l√°! Vamos rever...';
                
                let feedbackText = '';
                if (activity.type === 'timeline') {
                    feedbackText = 'Resposta correta: 1‚ÜíB (Era Terci√°ria), 2‚ÜíC (Idade do Bronze), 3‚ÜíA (H√° mais de 6 mil anos). A oliveira primitiva √© muito anterior ao homem, os primeiros vest√≠gios de produ√ß√£o s√£o da Idade do Bronze, e h√° mais de 6 mil anos os mesopot√¢mios j√° usavam azeite.';
                } else if (activity.type === 'archaeology') {
                    feedbackText = 'A resposta √© "azeite". O azeite era o combust√≠vel essencial em Roma: alimentava as lucernas (l√¢mpadas) para ilumina√ß√£o e era usado com o estr√≠gil para higiene corporal ap√≥s os banhos e exerc√≠cios.';
                } else if (activity.type === 'quote') {
                    feedbackText = 'A resposta √© "oliveira". Esta cita√ß√£o de Virg√≠lio mostra como a oliveira era vista como um s√≠mbolo de purifica√ß√£o e sacralidade na cultura romana.';
                } else if (activity.type === 'symbols') {
                    feedbackText = 'O elemento comum √© a "oliveira" (e o seu ramo). Representa paz (pomba de No√©), sabedoria e prosperidade (d√°diva de Atena) e poder divino (un√ß√£o real). A oliveira √© um s√≠mbolo transversal de b√™n√ß√£o divina.';
                } else if (activity.type === 'problem') {
                    feedbackText = 'A resposta correta √© B. Os principais problemas do m√©todo antigo eram: 1) Fermenta√ß√£o nos capachos (dif√≠ceis de limpar, causando sabor ran√ßoso) e 2) Oxida√ß√£o pelo ar (exposi√ß√£o prolongada roubava frescura). O Virgem Extra moderno resolve estes problemas com processos r√°pidos e controlados.';
                }
                
                return (
                    <div className={`mt-6 p-6 rounded-lg border-2 ${feedbackClass}`}>
                        <div className="flex items-start gap-3">
                            <span className="text-2xl">{feedbackIcon}</span>
                            <div>
                                <p className="font-bold mb-2 text-lg">{feedbackTitle}</p>
                                <p className="text-gray-700">{feedbackText}</p>
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 p-4 sm:p-8">
                    <div className="max-w-4xl mx-auto">
                        <button onClick={() => navigateTo('modules')} className="mb-6 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg flex items-center gap-2 transition">
                            ‚Üê Voltar aos M√≥dulos
                        </button>

                        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
                            <div className={`bg-gradient-to-r ${module.color} p-6 text-white`}>
                                <div className="flex items-center gap-4">
                                    <span className="text-4xl">{module.icon}</span>
                                    <div>
                                        <h2 className="text-3xl font-bold">{module.title}</h2>
                                        <p className="text-white/90 mt-1">{module.content.intro}</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="p-6 sm:p-8">
                                {module.content.sections.map((section, idx) => (
                                    <div key={idx} className="mb-8">
                                        <h3 className="text-2xl font-bold text-gray-800 mb-4">{section.title}</h3>
                                        {section.text && <p className="text-gray-700 leading-relaxed mb-4">{section.text}</p>}
                                        {section.items && (
                                            <div className="space-y-3">
                                                {section.items.map((item, itemIdx) => (
                                                    <div key={itemIdx} className="flex items-start gap-3 bg-gray-50 p-4 rounded-lg">
                                                        {item.emoji && <span className="text-2xl mt-1">{item.emoji}</span>}
                                                        <div className="flex-1">
                                                            {item.title && <span className="font-bold text-gray-800">{item.title}: </span>}
                                                            <span className="text-gray-700">{item.text}</span>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                ))}

                                <div className="mt-12 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 sm:p-8 border-2 border-blue-200">
                                    <h3 className="text-2xl font-bold text-blue-900 mb-4">üéØ Atividade Interativa</h3>
                                    {renderActivity()}
                                    {renderFeedback()}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Quiz component
        const Quiz = ({ navigateTo }) => {
            const [quizAnswers, setQuizAnswers] = useState({});
            const [showFeedback, setShowFeedback] = useState({});

            const handleAnswer = (questionId, answer) => {
                if (!answer) return;
                setQuizAnswers(prev => ({ ...prev, [questionId]: answer }));
                setShowFeedback(prev => ({ ...prev, [questionId]: true }));
            };

            const checkAnswer = (question) => {
                const answer = quizAnswers[question.id];
                if (!answer) return false;

                if (question.type === 'fill') {
                    return answer.toLowerCase().includes(question.answer.toLowerCase()) || 
                           (question.answer2 && answer.toLowerCase().includes(question.answer2.toLowerCase()));
                }
                return answer === question.correct;
            };

            const completedQuestions = Object.keys(showFeedback).length;
            const allQuestionsAnswered = completedQuestions === finalQuiz.length;
            const correctAnswersCount = finalQuiz.filter(q => showFeedback[q.id] && checkAnswer(q)).length;
            
            const renderResult = () => {
                if (!allQuestionsAnswered) return null;

                const percentage = Math.round((correctAnswersCount / finalQuiz.length) * 100);
                let resultClass, resultEmoji, resultTitle, resultText;

                if (percentage === 100) {
                    resultClass = 'from-green-100 to-emerald-100 border-green-500';
                    resultEmoji = 'üéâ';
                    resultTitle = 'Perfeito!';
                    resultText = 'Excelente! Domina perfeitamente a hist√≥ria do azeite!';
                } else if (percentage >= 70) {
                    resultClass = 'from-blue-100 to-cyan-100 border-blue-500';
                    resultEmoji = 'üëç';
                    resultTitle = 'Muito bem!';
                    resultText = 'Bom trabalho! Conhece bem a hist√≥ria do azeite.';
                } else {
                    resultClass = 'from-orange-100 to-amber-100 border-orange-500';
                    resultEmoji = 'üìö';
                    resultTitle = 'Continue a aprender!';
                    resultText = 'Reveja os m√≥dulos para aprofundar os seus conhecimentos.';
                }

                return (
                    <div className="text-center pt-8">
                        <div className={`inline-block p-8 rounded-2xl bg-gradient-to-br ${resultClass} border-4`}>
                            <div className="text-6xl mb-4">{resultEmoji}</div>
                            <h3 className="text-3xl font-bold text-gray-800 mb-2">{resultTitle}</h3>
                            <p className="text-xl text-gray-700 mb-4">Pontua√ß√£o: {correctAnswersCount}/{finalQuiz.length} ({percentage}%)</p>
                            <p className="text-gray-600">{resultText}</p>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 p-4 sm:p-8">
                    <div className="max-w-4xl mx-auto">
                        <button onClick={() => navigateTo('modules')} className="mb-6 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg flex items-center gap-2 transition">
                            ‚Üê Voltar aos M√≥dulos
                        </button>

                        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
                            <div className="bg-gradient-to-r from-green-600 to-emerald-700 p-6 text-white">
                                <div className="flex items-center justify-between">
                                    <div className="flex items-center gap-4">
                                        <span className="text-4xl">üèÜ</span>
                                        <div>
                                            <h2 className="text-3xl font-bold">Question√°rio Final</h2>
                                            <p className="text-green-100 mt-1">Teste os seus conhecimentos</p>
                                        </div>
                                    </div>
                                    {allQuestionsAnswered && (
                                        <div className="text-right">
                                            <p className="text-2xl font-bold">{correctAnswersCount}/{finalQuiz.length}</p>
                                            <p className="text-sm text-green-100">corretas</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                            
                            <div className="p-6 sm:p-8 space-y-8">
                                {finalQuiz.map((q, idx) => {
                                    const hasFeedback = showFeedback[q.id];
                                    const isCorrect = hasFeedback && checkAnswer(q);
                                    
                                    return (
                                        <div key={q.id} className="bg-gray-50 rounded-xl p-6 border-2 border-gray-200">
                                            <h3 className="text-xl font-bold text-gray-800 mb-4">Quest√£o {idx + 1}: {q.question}</h3>
                                            
                                            {q.type !== 'fill' && (
                                                <div className="space-y-3 mb-4">
                                                    {q.options.map(option => {
                                                        let buttonClass = 'bg-white border-gray-300 hover:border-blue-500 hover:bg-blue-50';
                                                        if (hasFeedback && option.id === q.correct) {
                                                            buttonClass = 'bg-green-100 border-green-500';
                                                        } else if (hasFeedback && quizAnswers[q.id] === option.id) {
                                                            buttonClass = 'bg-red-100 border-red-500';
                                                        }
                                                        return (
                                                            <button 
                                                                key={option.id}
                                                                onClick={() => handleAnswer(q.id, option.id)}
                                                                disabled={hasFeedback}
                                                                className={`w-full text-left p-4 rounded-lg border-2 transition ${buttonClass} disabled:cursor-not-allowed`}
                                                            >
                                                                <span className="font-bold">{option.id}.</span> {option.text}
                                                            </button>
                                                        )
                                                    })}
                                                </div>
                                            )}

                                            {q.type === 'fill' && (
                                                <input
                                                    type="text"
                                                    id={`quiz-${q.id}`}
                                                    placeholder="Digite sua resposta..."
                                                    className="w-full p-3 border-2 border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                                    disabled={hasFeedback}
                                                    onBlur={(e) => handleAnswer(q.id, e.target.value)}
                                                />
                                            )}

                                            {hasFeedback && (
                                                <div className={`p-4 rounded-lg border-2 ${isCorrect ? 'bg-green-100 border-green-500' : 'bg-orange-100 border-orange-500'}`}>
                                                    <div className="flex items-start gap-3">
                                                        <span className="text-2xl">{isCorrect ? '‚úì' : '‚úó'}</span>
                                                        <div>
                                                            <p className="font-bold mb-2">{isCorrect ? 'Correto!' : 'Incorreto'}</p>
                                                            <p className="text-gray-700">
                                                                {q.type === 'fill' ? q.feedback : (isCorrect ? q.feedback.correct : q.feedback.incorrect)}
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                                {renderResult()}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main App component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('intro');
            const [currentModuleIndex, setCurrentModuleIndex] = useState(null);
            const [moduleProgress, setModuleProgress] = useState({});

            const navigateTo = useCallback((page, moduleIndex) => {
                setCurrentPage(page);
                if (moduleIndex !== undefined) {
                    setCurrentModuleIndex(moduleIndex);
                }
                window.scrollTo(0, 0);
            }, []);

            const markModuleAsComplete = useCallback((moduleId) => {
                setModuleProgress(prev => ({ ...prev, [moduleId]: true }));
            }, []);

            const renderPage = () => {
                switch (currentPage) {
                    case 'intro':
                        return <Intro navigateTo={navigateTo} />;
                    case 'story':
                        return <Story navigateTo={navigateTo} />;
                    case 'modules':
                        return <ModuleList navigateTo={navigateTo} moduleProgress={moduleProgress} />;
                    case 'module':
                        if (currentModuleIndex !== null && modules[currentModuleIndex]) {
                            return (
                                <ModuleDetail
                                    navigateTo={navigateTo}
                                    module={modules[currentModuleIndex]}
                                    onComplete={markModuleAsComplete}
                                />
                            );
                        }
                        return <ModuleList navigateTo={navigateTo} moduleProgress={moduleProgress} />;
                    case 'quiz':
                        return <Quiz navigateTo={navigateTo} />;
                    default:
                        return <Intro navigateTo={navigateTo} />;
                }
            };

            return (
                <div className="fade-in">
                    {renderPage()}
                </div>
            );
        };

        // Mount the App
        const rootElement = document.getElementById('root');
        const root = ReactDOM.createRoot(rootElement);
        root.render(<App />);
    </script>
</body>
</html>